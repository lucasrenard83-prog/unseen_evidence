<% rooms_by_name = rooms.index_by(&:name) %>
<div class="floor-plan-container">
  <div class="floor-plan-frame">
    <div class="floor-plan">
      <div class="inside">

        <!-- ATTIC FLOOR -->
        <div class="floor-level">
          <div class="level-label">1st Floor</div>
          <div class="attic-floor">
            <% room = rooms_by_name["Attic"] %>
            <%= link_to room.name, room_path(room), class: "room attic-room", data: { turbo_frame: "_top" } %>
          </div>
        </div>

        <!-- GROUND FLOOR -->
        <div class="floor-level">
          <div class="level-label">Ground Floor</div>
          <div class="ground-floor">
            <% hall = rooms_by_name["Hall"] %>
            <%= link_to hall.name, room_path(hall), class: "room hall", data: { turbo_frame: "_top" } %>

            <% library = rooms_by_name["Library"] %>
            <%= link_to library.name, room_path(library), class: "room library", data: { turbo_frame: "_top" } %>

            <% kitchen = rooms_by_name["Kitchen"] %>
            <%= link_to kitchen.name, room_path(kitchen), class: "room kitchen", data: { turbo_frame: "_top" } %>

            <% study = rooms_by_name["Study"] %>
            <%= link_to study.name, room_path(study), class: "room study", data: { turbo_frame: "_top" } %>
          </div>
        </div>

      </div>
      <div class="outside">
        <!-- CELLAR FLOOR -->
        <div class="floor-level">
          <div class="level-label">Basement</div>
          <div class="cellar-floor">
            <% cellar = rooms_by_name["Cellar"] %>
            <% if cellar.open %>
              <%= link_to room_path(cellar), class: "room cellar-room", data: { turbo_frame: "_top" } do %>
                <%= cellar.name %><span class="room-lock unlocked"><i class="fa-solid fa-door-open" style="color: #FFD43B;"></i></span>
              <% end %>
            <% else %>
              <div class="room cellar-room closed"><%= cellar.name %><span class="room-lock locked">ðŸ”’</span></div>
            <% end %>
          </div>
        </div>

        <!-- EXTERIOR / GREENHOUSE -->
        <div class="floor-level exterior-level">
          <div class="level-label">Exterior</div>
          <div class="exterior-floor">
            <% greenhouse = rooms_by_name["Greenhouse"] %>
            <% if greenhouse.open %>
              <%= link_to room_path(greenhouse), class: "room greenhouse-room", data: { turbo_frame: "_top" } do %>
                <%= greenhouse.name %><span class="room-lock unlocked"><i class="fa-solid fa-door-open" style="color: #FFD43B;"></i></span>
              <% end %>
            <% else %>
              <div class="room greenhouse-room closed"><%= greenhouse.name %><span class="room-lock locked">ðŸ”’</span></div>
            <% end %>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
